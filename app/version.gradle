// Top-level build file where you can add configuration options common to all sub-projects/modules.

ext{
    appVersionCode =1
    appVersionCodeName = "1.0.0"
}

def getAppVersionCodeName(){
    def strout = new ByteArrayOutputStream()
    exec{
        commandLine 'git','describe','--abbrev','--tags'
        standardOutput = strout
    }
    return strout.toString()
}
/**
 * git tag 数目为版本号
 * @return
 */
def getAppVersionCode(){
    def strout = new ByteArrayOutputStream()
    exec{
        commandLine 'git','tag','--list'
        standardOutput = strout
    }
    return strout.toString().split("\n").size()
}